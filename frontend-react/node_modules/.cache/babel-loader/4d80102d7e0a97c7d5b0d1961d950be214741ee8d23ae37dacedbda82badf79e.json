{"ast":null,"code":"var _jsxFileName = \"/Users/spencerhill/Sites/leonard-soda-blasting/frontend/src/components/PageTitle.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { usePage, useGlobalSettings } from '../hooks/useDirectus';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PageTitle = ({\n  pageSlug\n}) => {\n  _s();\n  const {\n    page\n  } = usePage(pageSlug);\n  const {\n    settings\n  } = useGlobalSettings();\n\n  // Priority: page meta_title -> page title -> global site_title\n  const finalTitle = (page === null || page === void 0 ? void 0 : page.meta_title) || (page === null || page === void 0 ? void 0 : page.title) || (settings === null || settings === void 0 ? void 0 : settings.site_title) || '';\n  const finalDescription = (page === null || page === void 0 ? void 0 : page.meta_description) || (settings === null || settings === void 0 ? void 0 : settings.site_description) || '';\n\n  // Debug logging to verify title selection\n  console.log(`[DEBUG] PageTitle for ${pageSlug}:`, {\n    meta_title: page === null || page === void 0 ? void 0 : page.meta_title,\n    page_title: page === null || page === void 0 ? void 0 : page.title,\n    site_title: settings === null || settings === void 0 ? void 0 : settings.site_title,\n    finalTitle: finalTitle\n  });\n\n  // Do not render the Helmet component until a title is actually available.\n  // This prevents a race condition where an empty title is rendered first.\n  if (!finalTitle) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(Helmet, {\n    children: [/*#__PURE__*/_jsxDEV(\"title\", {\n      children: finalTitle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), finalDescription && /*#__PURE__*/_jsxDEV(\"meta\", {\n      name: \"description\",\n      content: finalDescription\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 28\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(PageTitle, \"1To7NV5jGx6cpalmvvZ27tH9ceA=\", false, function () {\n  return [usePage, useGlobalSettings];\n});\n_c = PageTitle;\nexport default PageTitle;\nvar _c;\n$RefreshReg$(_c, \"PageTitle\");","map":{"version":3,"names":["React","Helmet","usePage","useGlobalSettings","jsxDEV","_jsxDEV","PageTitle","pageSlug","_s","page","settings","finalTitle","meta_title","title","site_title","finalDescription","meta_description","site_description","console","log","page_title","children","fileName","_jsxFileName","lineNumber","columnNumber","name","content","_c","$RefreshReg$"],"sources":["/Users/spencerhill/Sites/leonard-soda-blasting/frontend/src/components/PageTitle.tsx"],"sourcesContent":["import React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { usePage, useGlobalSettings } from '../hooks/useDirectus';\n\ninterface PageTitleProps {\n  pageSlug: string;\n}\n\nconst PageTitle: React.FC<PageTitleProps> = ({ pageSlug }) => {\n  const { page } = usePage(pageSlug);\n  const { settings } = useGlobalSettings();\n\n  // Priority: page meta_title -> page title -> global site_title\n  const finalTitle = page?.meta_title || page?.title || settings?.site_title || '';\n  const finalDescription = page?.meta_description || settings?.site_description || '';\n\n  // Debug logging to verify title selection\n  console.log(`[DEBUG] PageTitle for ${pageSlug}:`, {\n    meta_title: page?.meta_title,\n    page_title: page?.title,\n    site_title: settings?.site_title,\n    finalTitle: finalTitle\n  });\n\n  // Do not render the Helmet component until a title is actually available.\n  // This prevents a race condition where an empty title is rendered first.\n  if (!finalTitle) {\n    return null;\n  }\n\n  return (\n    <Helmet>\n      <title>{finalTitle}</title>\n      {finalDescription && <meta name=\"description\" content={finalDescription} />}\n    </Helmet>\n  );\n};\n\nexport default PageTitle;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,oBAAoB;AAC3C,SAASC,OAAO,EAAEC,iBAAiB,QAAQ,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAMlE,MAAMC,SAAmC,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC5D,MAAM;IAAEC;EAAK,CAAC,GAAGP,OAAO,CAACK,QAAQ,CAAC;EAClC,MAAM;IAAEG;EAAS,CAAC,GAAGP,iBAAiB,CAAC,CAAC;;EAExC;EACA,MAAMQ,UAAU,GAAG,CAAAF,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEG,UAAU,MAAIH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,KAAK,MAAIH,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEI,UAAU,KAAI,EAAE;EAChF,MAAMC,gBAAgB,GAAG,CAAAN,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEO,gBAAgB,MAAIN,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEO,gBAAgB,KAAI,EAAE;;EAEnF;EACAC,OAAO,CAACC,GAAG,CAAC,yBAAyBZ,QAAQ,GAAG,EAAE;IAChDK,UAAU,EAAEH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEG,UAAU;IAC5BQ,UAAU,EAAEX,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,KAAK;IACvBC,UAAU,EAAEJ,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEI,UAAU;IAChCH,UAAU,EAAEA;EACd,CAAC,CAAC;;EAEF;EACA;EACA,IAAI,CAACA,UAAU,EAAE;IACf,OAAO,IAAI;EACb;EAEA,oBACEN,OAAA,CAACJ,MAAM;IAAAoB,QAAA,gBACLhB,OAAA;MAAAgB,QAAA,EAAQV;IAAU;MAAAW,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EAC1BV,gBAAgB,iBAAIV,OAAA;MAAMqB,IAAI,EAAC,aAAa;MAACC,OAAO,EAAEZ;IAAiB;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrE,CAAC;AAEb,CAAC;AAACjB,EAAA,CA5BIF,SAAmC;EAAA,QACtBJ,OAAO,EACHC,iBAAiB;AAAA;AAAAyB,EAAA,GAFlCtB,SAAmC;AA8BzC,eAAeA,SAAS;AAAC,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}