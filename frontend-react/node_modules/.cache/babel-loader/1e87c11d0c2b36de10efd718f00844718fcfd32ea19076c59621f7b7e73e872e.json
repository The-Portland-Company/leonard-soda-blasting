{"ast":null,"code":"var _jsxFileName = \"/Users/spencerhill/Sites/leonard-soda-blasting/frontend/src/components/PageTitle.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { usePage, useGlobalSettings } from '../hooks/useDirectus';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PageTitle = ({\n  pageSlug\n}) => {\n  _s();\n  const {\n    page,\n    loading: pageLoading\n  } = usePage(pageSlug);\n  const {\n    settings,\n    loading: settingsLoading\n  } = useGlobalSettings();\n\n  // Priority: page meta_title -> page title -> global site_title\n  const finalTitle = (page === null || page === void 0 ? void 0 : page.meta_title) || (page === null || page === void 0 ? void 0 : page.title) || (settings === null || settings === void 0 ? void 0 : settings.site_title) || 'Leonard Soda Blasting';\n  const finalDescription = (page === null || page === void 0 ? void 0 : page.meta_description) || (settings === null || settings === void 0 ? void 0 : settings.site_description) || '';\n\n  // Debug logging to verify title selection\n  useEffect(() => {\n    console.log(`[DEBUG] PageTitle for ${pageSlug}:`, {\n      pageLoading,\n      settingsLoading,\n      meta_title: page === null || page === void 0 ? void 0 : page.meta_title,\n      page_title: page === null || page === void 0 ? void 0 : page.title,\n      site_title: settings === null || settings === void 0 ? void 0 : settings.site_title,\n      finalTitle: finalTitle\n    });\n\n    // Also update the browser title directly as a fallback\n    if (finalTitle && !pageLoading && !settingsLoading) {\n      document.title = finalTitle;\n      console.log(`[DEBUG] Set document.title to: ${finalTitle}`);\n    }\n  }, [pageSlug, pageLoading, settingsLoading, page === null || page === void 0 ? void 0 : page.meta_title, page === null || page === void 0 ? void 0 : page.title, settings === null || settings === void 0 ? void 0 : settings.site_title, finalTitle]);\n\n  // Always render the Helmet component, but use fallback title if needed\n  return /*#__PURE__*/_jsxDEV(Helmet, {\n    children: [/*#__PURE__*/_jsxDEV(\"title\", {\n      children: finalTitle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), finalDescription && /*#__PURE__*/_jsxDEV(\"meta\", {\n      name: \"description\",\n      content: finalDescription\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 28\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(PageTitle, \"JMpnftP4JEC8NK+d6hRlbow5+l4=\", false, function () {\n  return [usePage, useGlobalSettings];\n});\n_c = PageTitle;\nexport default PageTitle;\nvar _c;\n$RefreshReg$(_c, \"PageTitle\");","map":{"version":3,"names":["React","useEffect","Helmet","usePage","useGlobalSettings","jsxDEV","_jsxDEV","PageTitle","pageSlug","_s","page","loading","pageLoading","settings","settingsLoading","finalTitle","meta_title","title","site_title","finalDescription","meta_description","site_description","console","log","page_title","document","children","fileName","_jsxFileName","lineNumber","columnNumber","name","content","_c","$RefreshReg$"],"sources":["/Users/spencerhill/Sites/leonard-soda-blasting/frontend/src/components/PageTitle.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { usePage, useGlobalSettings } from '../hooks/useDirectus';\n\ninterface PageTitleProps {\n  pageSlug: string;\n}\n\nconst PageTitle: React.FC<PageTitleProps> = ({ pageSlug }) => {\n  const { page, loading: pageLoading } = usePage(pageSlug);\n  const { settings, loading: settingsLoading } = useGlobalSettings();\n\n  // Priority: page meta_title -> page title -> global site_title\n  const finalTitle = page?.meta_title || page?.title || settings?.site_title || 'Leonard Soda Blasting';\n  const finalDescription = page?.meta_description || settings?.site_description || '';\n\n  // Debug logging to verify title selection\n  useEffect(() => {\n    console.log(`[DEBUG] PageTitle for ${pageSlug}:`, {\n      pageLoading,\n      settingsLoading,\n      meta_title: page?.meta_title,\n      page_title: page?.title,\n      site_title: settings?.site_title,\n      finalTitle: finalTitle\n    });\n    \n    // Also update the browser title directly as a fallback\n    if (finalTitle && !pageLoading && !settingsLoading) {\n      document.title = finalTitle;\n      console.log(`[DEBUG] Set document.title to: ${finalTitle}`);\n    }\n  }, [pageSlug, pageLoading, settingsLoading, page?.meta_title, page?.title, settings?.site_title, finalTitle]);\n\n  // Always render the Helmet component, but use fallback title if needed\n  return (\n    <Helmet>\n      <title>{finalTitle}</title>\n      {finalDescription && <meta name=\"description\" content={finalDescription} />}\n    </Helmet>\n  );\n};\n\nexport default PageTitle;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,MAAM,QAAQ,oBAAoB;AAC3C,SAASC,OAAO,EAAEC,iBAAiB,QAAQ,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAMlE,MAAMC,SAAmC,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC5D,MAAM;IAAEC,IAAI;IAAEC,OAAO,EAAEC;EAAY,CAAC,GAAGT,OAAO,CAACK,QAAQ,CAAC;EACxD,MAAM;IAAEK,QAAQ;IAAEF,OAAO,EAAEG;EAAgB,CAAC,GAAGV,iBAAiB,CAAC,CAAC;;EAElE;EACA,MAAMW,UAAU,GAAG,CAAAL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEM,UAAU,MAAIN,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEO,KAAK,MAAIJ,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEK,UAAU,KAAI,uBAAuB;EACrG,MAAMC,gBAAgB,GAAG,CAAAT,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEU,gBAAgB,MAAIP,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEQ,gBAAgB,KAAI,EAAE;;EAEnF;EACApB,SAAS,CAAC,MAAM;IACdqB,OAAO,CAACC,GAAG,CAAC,yBAAyBf,QAAQ,GAAG,EAAE;MAChDI,WAAW;MACXE,eAAe;MACfE,UAAU,EAAEN,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEM,UAAU;MAC5BQ,UAAU,EAAEd,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEO,KAAK;MACvBC,UAAU,EAAEL,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEK,UAAU;MAChCH,UAAU,EAAEA;IACd,CAAC,CAAC;;IAEF;IACA,IAAIA,UAAU,IAAI,CAACH,WAAW,IAAI,CAACE,eAAe,EAAE;MAClDW,QAAQ,CAACR,KAAK,GAAGF,UAAU;MAC3BO,OAAO,CAACC,GAAG,CAAC,kCAAkCR,UAAU,EAAE,CAAC;IAC7D;EACF,CAAC,EAAE,CAACP,QAAQ,EAAEI,WAAW,EAAEE,eAAe,EAAEJ,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEM,UAAU,EAAEN,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEO,KAAK,EAAEJ,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEK,UAAU,EAAEH,UAAU,CAAC,CAAC;;EAE7G;EACA,oBACET,OAAA,CAACJ,MAAM;IAAAwB,QAAA,gBACLpB,OAAA;MAAAoB,QAAA,EAAQX;IAAU;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EAC1BX,gBAAgB,iBAAIb,OAAA;MAAMyB,IAAI,EAAC,aAAa;MAACC,OAAO,EAAEb;IAAiB;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrE,CAAC;AAEb,CAAC;AAACrB,EAAA,CAjCIF,SAAmC;EAAA,QACAJ,OAAO,EACCC,iBAAiB;AAAA;AAAA6B,EAAA,GAF5D1B,SAAmC;AAmCzC,eAAeA,SAAS;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}