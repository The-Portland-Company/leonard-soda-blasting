{"ast":null,"code":"var _jsxFileName = \"/Users/spencerhill/Sites/leonard-soda-blasting/frontend-react/src/components/PageTitle.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { usePage, useGlobalSettings } from '../hooks/useDirectus';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PageTitle = ({\n  pageSlug\n}) => {\n  _s();\n  const {\n    page,\n    loading: pageLoading\n  } = usePage(pageSlug);\n  const {\n    settings,\n    loading: settingsLoading\n  } = useGlobalSettings();\n\n  // Priority: page meta_title -> page title -> global site_title\n  const finalTitle = (page === null || page === void 0 ? void 0 : page.meta_title) || (page === null || page === void 0 ? void 0 : page.title) || (settings === null || settings === void 0 ? void 0 : settings.site_title) || '';\n  const finalDescription = (page === null || page === void 0 ? void 0 : page.meta_description) || (settings === null || settings === void 0 ? void 0 : settings.site_description) || '';\n\n  // Do not render the Helmet component until a title is actually available.\n  // This prevents a race condition where an empty title is rendered first.\n  if (!finalTitle) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(Helmet, {\n    children: [/*#__PURE__*/_jsxDEV(\"title\", {\n      children: finalTitle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n      name: \"description\",\n      content: finalDescription || 'Professional eco-friendly soda blasting services for cleaning and restoration.'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, this);\n};\n_s(PageTitle, \"1YpTs01e+7kjw163baHrrhoLc34=\", false, function () {\n  return [usePage, useGlobalSettings];\n});\n_c = PageTitle;\nexport default PageTitle;\nvar _c;\n$RefreshReg$(_c, \"PageTitle\");","map":{"version":3,"names":["React","Helmet","usePage","useGlobalSettings","jsxDEV","_jsxDEV","PageTitle","pageSlug","_s","page","loading","pageLoading","settings","settingsLoading","finalTitle","meta_title","title","site_title","finalDescription","meta_description","site_description","children","fileName","_jsxFileName","lineNumber","columnNumber","name","content","_c","$RefreshReg$"],"sources":["/Users/spencerhill/Sites/leonard-soda-blasting/frontend-react/src/components/PageTitle.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { usePage, useGlobalSettings } from '../hooks/useDirectus';\n\ninterface PageTitleProps {\n  pageSlug: string;\n}\n\nconst PageTitle: React.FC<PageTitleProps> = ({ pageSlug }) => {\n  const { page, loading: pageLoading } = usePage(pageSlug);\n  const { settings, loading: settingsLoading } = useGlobalSettings();\n\n  // Priority: page meta_title -> page title -> global site_title\n  const finalTitle = page?.meta_title || page?.title || settings?.site_title || '';\n  const finalDescription = page?.meta_description || settings?.site_description || '';\n\n  // Do not render the Helmet component until a title is actually available.\n  // This prevents a race condition where an empty title is rendered first.\n  if (!finalTitle) {\n    return null;\n  }\n\n  return (\n    <Helmet>\n      <title>{finalTitle}</title>\n      <meta name=\"description\" content={finalDescription || 'Professional eco-friendly soda blasting services for cleaning and restoration.'} />\n    </Helmet>\n  );\n};\n\nexport default PageTitle;"],"mappings":";;AAAA,OAAOA,KAAK,MAAqB,OAAO;AACxC,SAASC,MAAM,QAAQ,oBAAoB;AAC3C,SAASC,OAAO,EAAEC,iBAAiB,QAAQ,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAMlE,MAAMC,SAAmC,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC5D,MAAM;IAAEC,IAAI;IAAEC,OAAO,EAAEC;EAAY,CAAC,GAAGT,OAAO,CAACK,QAAQ,CAAC;EACxD,MAAM;IAAEK,QAAQ;IAAEF,OAAO,EAAEG;EAAgB,CAAC,GAAGV,iBAAiB,CAAC,CAAC;;EAElE;EACA,MAAMW,UAAU,GAAG,CAAAL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEM,UAAU,MAAIN,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEO,KAAK,MAAIJ,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEK,UAAU,KAAI,EAAE;EAChF,MAAMC,gBAAgB,GAAG,CAAAT,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEU,gBAAgB,MAAIP,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEQ,gBAAgB,KAAI,EAAE;;EAEnF;EACA;EACA,IAAI,CAACN,UAAU,EAAE;IACf,OAAO,IAAI;EACb;EAEA,oBACET,OAAA,CAACJ,MAAM;IAAAoB,QAAA,gBACLhB,OAAA;MAAAgB,QAAA,EAAQP;IAAU;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAC3BpB,OAAA;MAAMqB,IAAI,EAAC,aAAa;MAACC,OAAO,EAAET,gBAAgB,IAAI;IAAiF;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpI,CAAC;AAEb,CAAC;AAACjB,EAAA,CApBIF,SAAmC;EAAA,QACAJ,OAAO,EACCC,iBAAiB;AAAA;AAAAyB,EAAA,GAF5DtB,SAAmC;AAsBzC,eAAeA,SAAS;AAAC,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}